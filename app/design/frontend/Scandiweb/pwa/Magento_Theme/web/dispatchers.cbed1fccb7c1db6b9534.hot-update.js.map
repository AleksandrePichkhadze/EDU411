{"version":3,"sources":["webpack:////var/www/public/vendor/scandipwa/source/src/app/query/Category.query.js"],"names":["CategoryQuery","options","Field","addArgument","_getConditionalArguments","addFieldList","_getDefaultFields","addField","_getChildrenFields","categoryIds","Error","__","_getBreadcrumbFields","_getCmsBlockFields","_getCmsBlockField","_getBreadcrumbsField","Object","defineProperty","_CategoryQuery","value"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;AAWA;AAEA;;;;;;AAKO,IAAMA,cAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACkB;AACV;;AACA,WAAKC,OAAL,GAAe,EAAf;AACH;AAJL;AAAA;AAAA,+BAM2B;AAAA;;AAAA,UAAdA,OAAc,uEAAJ,EAAI;AACnB,WAAKA,OAAL,GAAeA,OAAf;AAEA,aAAO,YAAIC,2FAAJ,CAAU,UAAV,GACFC,WADE,gCACa,KAAKC,wBAAL,EADb,GAEFC,YAFE,CAEW,KAAKC,iBAAL,EAFX,EAGFC,QAHE,CAGO,KAAKC,kBAAL,EAHP,CAAP;AAIH;AAbL;AAAA;AAAA,+CAe+B;AAAA,UACfC,WADe,GACC,KAAKR,OADN,CACfQ,WADe;;AAGvB,UAAIA,WAAJ,EAAiB;AACb,eAAO,CAAC,IAAD,EAAO,MAAP,EAAeA,WAAf,CAAP;AACH;;AAED,YAAM,IAAIC,KAAJ,CAAUC,EAAE,CAAC,4CAAD,CAAZ,CAAN;AACH;AAvBL;AAAA;AAAA,yCAyByB;AACjB,aAAO,IAAIT,2FAAJ,CAAU,UAAV,EACFG,YADE,CACW,KAAKC,iBAAL,EADX,CAAP;AAEH;AA5BL;AAAA;AAAA,2CA8B2B;AACnB,aAAO,IAAIJ,2FAAJ,CAAU,aAAV,EACFG,YADE,CACW,KAAKO,oBAAL,EADX,CAAP;AAEH;AAjCL;AAAA;AAAA,2CAmC2B;AACnB,aAAO,CACH,eADG,EAEH,gBAFG,EAGH,cAHG,EAIH,oBAJG,CAAP;AAMH;AA1CL;AAAA;AAAA,yCA4CyB;AACjB,aAAO,CACH,SADG,EAEH,UAFG,EAGH,OAHG,EAIH,YAJG,CAAP;AAMH;AAnDL;AAAA;AAAA,wCAqDwB;AAChB,aAAO,IAAIV,2FAAJ,CAAU,WAAV,EACFG,YADE,CACW,KAAKQ,kBAAL,EADX,CAAP;AAEH;AAxDL;AAAA;AAAA,wCA0DwB;AAChB,aAAO,CACH,IADG,EAEH,KAFG,EAGH,MAHG,EAIH,OAJG,EAKH,SALG,EAMH,UANG,EAOH,WAPG,EAQH,YARG,EASH,aATG,EAUH,eAVG,EAWH,eAXG,EAYH,eAZG,EAaH,eAbG,EAcH,iBAdG,EAeH,kBAfG,EAgBH,cAhBG,EAiBH,KAAKC,iBAAL,EAjBG,EAkBH,KAAKC,oBAAL,EAlBG,CAAP;AAoBH;AA/EL;;AAAA;AAAA;AAlBAC,MAAM,CAACC,cAAP,CAAsBC,cAAtB,EAAsC,MAAtC,EAA8C;AAAEC,OAAK,EAAE;AAAT,CAA9C;;;AAoGe,mEAAInB,aAAJ,EAAf,E","file":"dispatchers.cbed1fccb7c1db6b9534.hot-update.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { Field } from 'Util/Query';\n\n/**\n * Category Query\n * @class CategoryQuery\n * @namespace Query/Category\n */\nexport class CategoryQuery {\n    __construct() {\n        super.__construct();\n        this.options = {};\n    }\n\n    getQuery(options = {}) {\n        this.options = options;\n\n        return new Field('category')\n            .addArgument(...this._getConditionalArguments())\n            .addFieldList(this._getDefaultFields())\n            .addField(this._getChildrenFields());\n    }\n\n    _getConditionalArguments() {\n        const { categoryIds } = this.options;\n\n        if (categoryIds) {\n            return ['id', 'Int!', categoryIds];\n        }\n\n        throw new Error(__('There was an error requesting the category'));\n    }\n\n    _getChildrenFields() {\n        return new Field('children')\n            .addFieldList(this._getDefaultFields());\n    }\n\n    _getBreadcrumbsField() {\n        return new Field('breadcrumbs')\n            .addFieldList(this._getBreadcrumbFields());\n    }\n\n    _getBreadcrumbFields() {\n        return [\n            'category_name',\n            'category_level',\n            'category_url',\n            'category_is_active'\n        ];\n    }\n\n    _getCmsBlockFields() {\n        return [\n            'content',\n            'disabled',\n            'title',\n            'identifier'\n        ];\n    }\n\n    _getCmsBlockField() {\n        return new Field('cms_block')\n            .addFieldList(this._getCmsBlockFields());\n    }\n\n    _getDefaultFields() {\n        return [\n            'id',\n            'url',\n            'name',\n            'image',\n            'url_key',\n            'url_path',\n            'is_active',\n            'meta_title',\n            'description',\n            'canonical_url',\n            'category_type',\n            'product_count',\n            'meta_keywords',\n            'default_sort_by',\n            'meta_description',\n            'landing_page',\n            this._getCmsBlockField(),\n            this._getBreadcrumbsField()\n        ];\n    }\n}\n\nexport default new CategoryQuery();\n"],"sourceRoot":""}